(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(t,e,r){t.exports=r(262)},139:function(t,e,r){},141:function(t,e,r){},262:function(t,e,r){"use strict";r.r(e);var i=r(33),n=r.n(i),a=r(127),o=r.n(a),s=(r(139),r(20)),l=r(22),h=r(131),u=r(128),c=r(132),f=(r(141),r(5)),v=r(130),p=r(133),d=r(24),y=20;function g(t){return t/y}function x(t){return t*y}function m(){return new b(window.innerWidth/2,window.innerHeight/2)}function w(t,e){for(var r=t[0],i=t[1],n=!1,a=0,o=e.length-1;a<e.length;o=a++){var s=e[a][0],l=e[a][1],h=e[o][0],u=e[o][1];l>i!==u>i&&r<(h-s)*(i-l)/(u-l)+s&&(n=!n)}return n}var b=function(){function t(e,r){Object(s.a)(this,t),this.x=e,this.y=r,this.pixiPoint=new f.Point(this.x,this.y),this.vecPoint=d.Vec2(this.x,this.y)}return Object(l.a)(t,[{key:"add",value:function(e,r){return new t(this.x+e,this.y+r)}},{key:"multiply",value:function(e,r){return new t(this.x*e,this.y*r)}},{key:"toPixiPoint",value:function(){return this.pixiPoint}},{key:"toVec2",value:function(){return this.vecPoint}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"scaleToPhysics",value:function(){return new t(g(this.x),g(this.y))}}]),t}(),k=function(){function t(e){Object(s.a)(this,t),this.world=e,this.app=e.app,this.offset=new b(0,0),this.multiplier=1,this.check=30,this.app.stage.interactive=!0}return Object(l.a)(t,[{key:"init",value:function(){var t=this,e=new f.Graphics;e.lineStyle(10,16777215),e.moveTo(0,0).lineTo(10,0),e.x=500,e.y=500,e.rotation=0,this.line=new f.Sprite(e.generateCanvasTexture()),this.line.alpha=.2,this.app.stage.addChild(this.line),this.app.stage.mousemove=function(e){return t.mouseMove(e)},this.app.stage.mousedown=function(e){return t.mouseDown(e)},this.world.physics.on("begin-contact",function(e){t.multiplier=0})}},{key:"tick",value:function(t){this.line.x=this.world.player.sprite.x+this.offset.x,this.line.y=this.world.player.sprite.y+this.offset.y,this.line.scale.x=this.multiplier<.05?0:this.force/20*this.multiplier;var e=this.world.player.body.getLinearVelocity();Math.abs(e.x)+Math.abs(e.y)<.005&&this.check--,this.check<=0&&(this.multiplier=1,this.check=30,this.world.player.body.setAwake(!1))}},{key:"mouseDown",value:function(t){if(this.multiplier*=.5,!(this.multiplier<.05)){var e=m(),r=Math.atan2(this.mouse.y-e.y,this.mouse.x-e.x),i=.7*-Math.cos(r)*g(this.force)*this.multiplier,n=.7*-Math.sin(r)*g(this.force)*this.multiplier;this.world.player.body.applyLinearImpulse(new b(i,n).scaleToPhysics().toVec2(),this.world.player.body.getWorldCenter(),!0)}}},{key:"mouseMove",value:function(t){var e=m();this.mouse=new b(t.data.global.x,t.data.global.y);var r=Math.atan2(this.mouse.y-e.y,this.mouse.x-e.x);this.offset=new b(20*Math.cos(r),20*Math.sin(r)),this.line.rotation=r;var i,n,a=(i=new b(this.mouse.x,this.mouse.y),n=e,Math.sqrt((i.y-n.y)*(i.y-n.y)+(i.x-n.x)*(i.x-n.x)));this.force=a}}]),t}(),T=new f.Filter("","\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D vTexture;\n\nvoid main(){\n\tif (texture2D(vTexture, vTextureCoord).a != 1.0) {\n        discard;\n    }\n\tvec2 uvs = vTextureCoord.xy;\n\n\tvec4 fg = texture2D(vTexture, vTextureCoord);\n\tfg.r = mix(1.0-uvs.x, fg.r, 0.7);\n\tfg.b = mix(1.0-uvs.x, fg.b, 0.7);\n\tfg.g = mix(1.0-uvs.x, fg.g, 0.7);\n\n\tgl_FragColor = fg;\n}"),C=new f.Filter("","\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D vTexture;\n\nvoid main(){\n\tif (texture2D(vTexture, vTextureCoord).a != 1.0) {\n        discard;\n    }\n\tvec2 uvs = vTextureCoord.xy;\n\n\tvec4 fg = texture2D(vTexture, vTextureCoord);\n\tfg.r = mix(1.0-uvs.y, fg.r, 0.7);\n\tfg.b = mix(1.0-uvs.y, fg.b, 0.7);\n\tfg.g = mix(1.0-uvs.y, fg.g, 0.7);\n\n\tgl_FragColor = fg;\n}");var S={color1:{type:"vec3",value:new Float32Array([.2,.4,1])},color2:{type:"vec3",value:new Float32Array([0,1,0])},amount:{type:"f",value:.4}},_=new f.Filter("","\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec3 color1;\nuniform vec3 color2;\nuniform float amount;\n\nvoid main(){\n\tvec2 uvs = vTextureCoord.xy;\n\tvec4 fg = vec4(0.0, 0.0, 0.0, 1.0);\n\tfg.r = mix(color1.r, color2.r, uvs.y *  amount);\n\tfg.b = mix(color1.b, color2.b, uvs.y *  amount);\n\tfg.g = mix(color1.g, color2.g, uvs.y *  amount);\n\n\tgl_FragColor = fg;\n}",S);var M=Math.pow(2,-52),A=new Uint32Array(512),P=function(){function t(e){Object(s.a)(this,t);var r=e.length>>1;if(r>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var i=2*r-5,n=this.triangles=new Uint32Array(3*i),a=this.halfedges=new Int32Array(3*i);this._hashSize=Math.ceil(Math.sqrt(r));for(var o=this.hullPrev=new Uint32Array(r),l=this.hullNext=new Uint32Array(r),h=this.hullTri=new Uint32Array(r),u=new Int32Array(this._hashSize).fill(-1),c=new Uint32Array(r),f=1/0,v=1/0,p=-1/0,d=-1/0,y=0;y<r;y++){var g=e[2*y],x=e[2*y+1];g<f&&(f=g),x<v&&(v=x),g>p&&(p=g),x>d&&(d=x),c[y]=y}for(var m,w,b,k=(f+p)/2,T=(v+d)/2,C=1/0,S=0;S<r;S++){var _=O(k,T,e[2*S],e[2*S+1]);_<C&&(m=S,C=_)}var A=e[2*m],P=e[2*m+1];C=1/0;for(var F=0;F<r;F++)if(F!==m){var E=O(A,P,e[2*F],e[2*F+1]);E<C&&E>0&&(w=F,C=E)}for(var R=e[2*w],B=e[2*w+1],L=1/0,I=0;I<r;I++)if(I!==m&&I!==w){var N=z(A,P,R,B,e[2*I],e[2*I+1]);N<L&&(b=I,L=N)}var V=e[2*b],W=e[2*b+1];if(L===1/0)throw new Error("No Delaunay triangulation exists for this input.");if(j(A,P,R,B,V,W)){var U=w,G=R,K=B;w=b,R=V,B=W,b=U,V=G,W=K}var H=function(t,e,r,i,n,a){var o=r-t,s=i-e,l=n-t,h=a-e,u=o*o+s*s,c=l*l+h*h,f=.5/(o*h-s*l);return{x:t+(h*u-s*c)*f,y:e+(o*c-l*u)*f}}(A,P,R,B,V,W);this._cx=H.x,this._cy=H.y;for(var q=new Float64Array(r),J=0;J<r;J++)q[J]=O(e[2*J],e[2*J+1],H.x,H.y);!function t(e,r,i,n){if(n-i<=20)for(var a=i+1;a<=n;a++){for(var o=e[a],s=r[o],l=a-1;l>=i&&r[e[l]]>s;)e[l+1]=e[l--];e[l+1]=o}else{var h=i+n>>1,u=i+1,c=n;D(e,h,u),r[e[i]]>r[e[n]]&&D(e,i,n),r[e[u]]>r[e[n]]&&D(e,u,n),r[e[i]]>r[e[u]]&&D(e,i,u);for(var f=e[u],v=r[f];;){do{u++}while(r[e[u]]<v);do{c--}while(r[e[c]]>v);if(c<u)break;D(e,u,c)}e[i+1]=e[c],e[c]=f,n-u+1>=c-i?(t(e,r,u,n),t(e,r,i,c-1)):(t(e,r,i,c-1),t(e,r,u,n))}}(c,q,0,r-1),this.hullStart=m;var X=3;l[m]=o[b]=w,l[w]=o[m]=b,l[b]=o[w]=m,h[m]=0,h[w]=1,h[b]=2,u[this._hashKey(A,P)]=m,u[this._hashKey(R,B)]=w,u[this._hashKey(V,W)]=b,this.trianglesLen=0,this._addTriangle(m,w,b,-1,-1,-1);for(var $,Q,Y=0;Y<c.length;Y++){var Z=c[Y],tt=e[2*Z],et=e[2*Z+1];if(!(Y>0&&Math.abs(tt-$)<=M&&Math.abs(et-Q)<=M)&&($=tt,Q=et,Z!==m&&Z!==w&&Z!==b)){for(var rt=0,it=0,nt=this._hashKey(tt,et);it<this._hashSize&&(-1===(rt=u[(nt+it)%this._hashSize])||rt===l[rt]);it++);for(var at=rt=o[rt],ot=void 0;ot=l[at],!j(tt,et,e[2*at],e[2*at+1],e[2*ot],e[2*ot+1]);)if((at=ot)===rt){at=-1;break}if(-1!==at){var st=this._addTriangle(at,Z,l[at],-1,-1,h[at]);h[Z]=this._legalize(st+2),h[at]=st,X++;for(var lt=l[at];ot=l[lt],j(tt,et,e[2*lt],e[2*lt+1],e[2*ot],e[2*ot+1]);)st=this._addTriangle(lt,Z,ot,h[Z],-1,h[lt]),h[Z]=this._legalize(st+2),l[lt]=lt,X--,lt=ot;if(at===rt)for(;j(tt,et,e[2*(ot=o[at])],e[2*ot+1],e[2*at],e[2*at+1]);)st=this._addTriangle(ot,Z,at,-1,h[at],h[ot]),this._legalize(st+2),h[ot]=st,l[at]=at,X--,at=ot;this.hullStart=o[Z]=at,l[at]=o[lt]=Z,l[Z]=lt,u[this._hashKey(tt,et)]=Z,u[this._hashKey(e[2*at],e[2*at+1])]=at}}}this.hull=new Uint32Array(X);for(var ht=0,ut=this.hullStart;ht<X;ht++)this.hull[ht]=ut,ut=l[ut];this.hullPrev=this.hullNext=this.hullTri=null,this.triangles=n.subarray(0,this.trianglesLen),this.halfedges=a.subarray(0,this.trianglesLen)}return Object(l.a)(t,null,[{key:"from",value:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R,n=e.length,a=new Float64Array(2*n),o=0;o<n;o++){var s=e[o];a[2*o]=r(s),a[2*o+1]=i(s)}return new t(a)}}]),Object(l.a)(t,[{key:"_hashKey",value:function(t,e){return Math.floor(function(t,e){var r=t/(Math.abs(t)+Math.abs(e));return(e>0?3-r:1+r)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(t){for(var e=this.triangles,r=this.coords,i=this.halfedges,n=0,a=0;;){var o=i[t],s=t-t%3;if(a=s+(t+2)%3,-1!==o){var l=o-o%3,h=s+(t+1)%3,u=l+(o+2)%3,c=e[a],f=e[t],v=e[h],p=e[u];if(F(r[2*c],r[2*c+1],r[2*f],r[2*f+1],r[2*v],r[2*v+1],r[2*p],r[2*p+1])){e[t]=p,e[o]=c;var d=i[u];if(-1===d){var y=this.hullStart;do{if(this.hullTri[y]===u){this.hullTri[y]=t;break}y=this.hullNext[y]}while(y!==this.hullStart)}this._link(t,d),this._link(o,i[a]),this._link(a,u);var g=l+(o+1)%3;n<A.length&&(A[n++]=g)}else{if(0===n)break;t=A[--n]}}else{if(0===n)break;t=A[--n]}}return a}},{key:"_link",value:function(t,e){this.halfedges[t]=e,-1!==e&&(this.halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,r,i,n,a){var o=this.trianglesLen;return this.triangles[o]=t,this.triangles[o+1]=e,this.triangles[o+2]=r,this._link(o,i),this._link(o+1,n),this._link(o+2,a),this.trianglesLen+=3,o}}]),t}();function O(t,e,r,i){var n=t-r,a=e-i;return n*n+a*a}function j(t,e,r,i,n,a){return(i-e)*(n-r)-(r-t)*(a-i)<0}function F(t,e,r,i,n,a,o,s){var l=t-o,h=e-s,u=r-o,c=i-s,f=n-o,v=a-s,p=u*u+c*c,d=f*f+v*v;return l*(c*d-p*v)-h*(u*d-p*f)+(l*l+h*h)*(u*v-c*f)<0}function z(t,e,r,i,n,a){var o=r-t,s=i-e,l=n-t,h=a-e,u=o*o+s*s,c=l*l+h*h,f=.5/(o*h-s*l),v=(h*u-s*c)*f,p=(o*c-l*u)*f;return v*v+p*p}function D(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function E(t){return t[0]}function R(t){return t[1]}var B=function t(){Object(s.a)(this,t)};function L(t,e,r){r=r||0;var i,n,a,o,s,l,h,u=[0,0];return i=t[1][1]-t[0][1],n=t[0][0]-t[1][0],a=i*t[0][0]+n*t[0][1],o=e[1][1]-e[0][1],s=e[0][0]-e[1][0],l=o*e[0][0]+s*e[0][1],Q(h=i*s-o*n,0,r)||(u[0]=(s*a-n*l)/h,u[1]=(i*l-o*a)/h),u}function I(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(e[1]-t[1])}function N(t,e,r){return I(t,e,r)>0}function V(t,e,r){return I(t,e,r)>=0}function W(t,e,r){return I(t,e,r)<0}function U(t,e,r){return I(t,e,r)<=0}B.decomp=function(t){var e=function t(e){var r=[],i=[],n=[],a=[];var o=Number.MAX_VALUE;for(var s=0;s<e.length;++s)if(H(e,s))for(var l=0;l<e.length;++l)if(X(e,s,l)){i=t($(e,s,l,a)),n=t($(e,l,s,a));for(var h=0;h<n.length;h++)i.push(n[h]);i.length<o&&(r=i,o=i.length,r.push([K(e,s),K(e,l)]))}return r}(t);return e.length>0?function t(e,r){if(0===r.length)return[e];if(r instanceof Array&&r.length&&r[0]instanceof Array&&2===r[0].length&&r[0][0]instanceof Array){for(var i=[e],n=0;n<r.length;n++)for(var a=r[n],o=0;o<i.length;o++){var s=i[o],l=t(s,a);if(l){i.splice(o,1),i.push(l[0],l[1]);break}}return i}var a=r,n=e.indexOf(a[0]),o=e.indexOf(a[1]);return-1!==n&&-1!==o&&[$(e,n,o),$(e,o,n)]}(t,e):[t]},B.makeCCW=function(t){for(var e=0,r=t,i=1;i<t.length;++i)(r[i][1]<r[e][1]||r[i][1]===r[e][1]&&r[i][0]>r[e][0])&&(e=i);return!N(K(t,e-1),K(t,e),K(t,e+1))&&(function(t){for(var e=[],r=t.length,i=0;i!==r;i++)e.push(t.pop());for(var i=0;i!==r;i++)t[i]=e[i]}(t),!0)};function G(t,e){var r=e[0]-t[0],i=e[1]-t[1];return r*r+i*i}function K(t,e){var r=t.length;return t[e<0?e%r+r:e%r]}function H(t,e){return W(K(t,e-1),K(t,e),K(t,e+1))}var q=[],J=[];function X(t,e,r){var i,n,a=q,o=J;if(V(K(t,e+1),K(t,e),K(t,r))&&U(K(t,e-1),K(t,e),K(t,r)))return!1;n=G(K(t,e),K(t,r));for(var s=0;s!==t.length;++s)if((s+1)%t.length!==e&&s!==e&&V(K(t,e),K(t,r),K(t,s+1))&&U(K(t,e),K(t,r),K(t,s))&&(a[0]=K(t,e),a[1]=K(t,r),o[0]=K(t,s),o[1]=K(t,s+1),i=L(a,o),G(K(t,e),i)<n))return!1;return!0}function $(t,e,r,i){var n=i||[];if(function(t){t.length=0}(n),e<r)for(var a=e;a<=r;a++)n.push(t[a]);else{for(a=0;a<=r;a++)n.push(t[a]);for(a=e;a<t.length;a++)n.push(t[a])}return n}function Q(t,e,r){return r=r||0,Math.abs(t-e)<=r}var Y=r(129),Z={ground:{points:[[0,200],[100,190],[200,170],[300,120],[400,40],[500,20],[600,30],[700,60],[800,40],[850,10],[5e3,10],[5e3,700],[200,700],[100,600],[60,400]],internal:2,colors:[{color:13879202,position:0},{color:10916176,position:150},{color:14406068,position:300}]},tree:{points:[[250,0],[300,0],[300,400],[250,400],[250,200],[110,220],[50,190],[35,150],[50,180],[100,200],[250,180]],internal:2,colors:[{color:4469773,position:0},{color:5192199,position:200}]}},tt=[T,C],et=function(){function t(e){var r=this;for(var i in Object(s.a)(this,t),this.game=e,this.app=this.game.app,this.input=new k(this),this.objects=[],this.physics=d.World({gravity:d.Vec2(0,.01)}),this.physicsStage=this.physics.createBody({type:"static",position:d.Vec2(0,0)}),this.game.resizeBus.push(function(){r.background.clear(),r.background.beginFill(1118481),r.background.drawRect(0,0,r.app.renderer.width+20,r.app.renderer.height+20)}),Z){var n=Z[i];n.max=0,B.makeCCW(n.points),n.shapes=[];var a=!0,o=!1,l=void 0;try{for(var h,u=B.decomp(n.points)[Symbol.iterator]();!(a=(h=u.next()).done);a=!0){var c=h.value;n.shapes.push({points:c.map(function(t){return new b(t[0],t[1])})})}}catch(p){o=!0,l=p}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}console.log("Definition '"+i+"' was split into "+n.shapes.length+" convex polygons.");for(var f=0;f<n.shapes.length;f++){var v=n.shapes[f];v.texture=this.bakeStageTexture({name:i,index:f,internal:n.internal,points:v.points,colors:n.colors})}}}return Object(l.a)(t,[{key:"init",value:function(){this.backgroundShader={shader:_,uniforms:S},this.background=new f.Graphics,this.background.beginFill(1118481),this.background.drawRect(0,0,this.app.renderer.width+20,this.app.renderer.height+20),this.background.filters=[this.backgroundShader.shader],this.app.stage.addChild(this.background),this.addStageObject(850,-380,Z.tree),this.addStageObject(0,0,Z.ground),this.createPlayer(),this.input.init()}},{key:"tick",value:function(t){var e=m();this.physics.step(t);var r=this.player.body.getPosition();this.player.sprite.x=x(r.x),this.player.sprite.y=x(r.y),this.player.sprite.rotation+=this.player.body.getAngularVelocity()*t,this.app.stage.position.set(e.x-this.player.sprite.x,e.y-this.player.sprite.y),this.background.x=this.player.sprite.x-e.x-10,this.background.y=this.player.sprite.y-e.y-10,this.tracer.updateOwnerPos(this.player.sprite.x,this.player.sprite.y),this.tracer.update(.01*t),this.input.tick(t)}},{key:"createPlayer",value:function(){var t=new f.Graphics;t.beginFill(255),t.drawCircle(0,0,10),t.beginFill(16711680),t.drawCircle(4,0,10/3);var e=new f.Sprite(this.app.renderer.generateTexture(t));e.anchor.x=.5,e.anchor.y=.5,e.x=200,e.y=100;var r=this.physics.createBody({type:"dynamic",position:d.Vec2(40,-4),bullet:!0,linearDamping:.005,allowSleep:!1});r.createFixture({shape:d.Circle(g(10)),restitution:0,friction:.2,density:.9});var i=new f.Container;this.tracer=new Y.Emitter(i,[f.loader.resources.particle.texture],{alpha:{start:1,end:0},scale:{start:.4,end:.1,minimumScaleMultiplier:1},color:{start:"#e4f9ff",end:"#3fcbff"},speed:{start:0,end:0,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:.8,max:.8},blendMode:"normal",frequency:.001,emitterLifetime:-1,maxParticles:1e3,pos:{x:0,y:0},addAtBack:!0,spawnType:"point"}),this.tracer.emit=!0,this.app.stage.addChild(i),this.app.stage.addChild(e),this.player={sprite:e,body:r}}},{key:"bakeStageTexture",value:function(t){t=Object(p.a)({},t,{points:t.points.map(function(t){return t.multiply(2,2)}),colors:t.colors.map(function(t){return{color:t.color,position:2*t.position}})});var e=new Date,r=new f.Graphics;r.beginFill(0),r.drawPolygon(t.points.map(function(t){return t.multiply(1,1).toPixiPoint()})),r.endFill();for(var i=r.getBounds(),n=new f.Container,a=[],o=[],s=[],l=0;l<t.internal;l++){var h=null;do{h=new b(i.x+Math.floor(Math.random()*i.width),i.y+Math.floor(Math.random()*i.height))}while(!w(h.toArray(),t.points.map(function(t){return t.toArray()})));s.push(h)}for(var u=[].concat(Object(v.a)(t.points),s),c=P.from(u.map(function(t){return t.toArray()})).triangles,d=0;d<c.length;d+=3)o.push([u[c[d]],u[c[d+1]],u[c[d+2]]]);for(var y=0;y<o.length;y++){var g=o[y],x=new f.Graphics;x.beginFill(16777215),x.drawPolygon(g.map(function(t){return t.toPixiPoint()})),x.endFill();var m=x.getBounds();x.clear();var k=m.x,T=0,C=-1,S=16777215,_=-1,M=!0,A=!1,O=void 0;try{for(var j,F=t.colors[Symbol.iterator]();!(M=(j=F.next()).done);M=!0){var z=j.value,D=Math.abs(k-z.position);-1!==C?D<C&&(S=T,_=C,C=D,T=z.color):(C=D,S=T=z.color,_=C)}}catch(W){A=!0,O=W}finally{try{M||null==F.return||F.return()}finally{if(A)throw O}}var E=0===_?1:C/_,R=16777216+((T>>16&255)*(1-E)+(S>>16&255)*E<<16)+((T>>8&255)*(1-E)+(S>>8&255)*E<<8)+((255&T)*(1-E)+(255&S)*E);x.beginFill(R),x.drawPolygon(g.map(function(t){return t.toPixiPoint()})),x.endFill();var B=this.app.renderer.generateTexture(x);a.push(B);var L=new f.Sprite(B);L.filters=[tt[y%tt.length]],L.blendMode=f.BLEND_MODES.ADD,L.x=m.x,L.y=m.y,n.addChild(L)}var I=new f.RenderTexture(new f.BaseRenderTexture(i.width+i.x,i.height+i.y,f.SCALE_MODES.LINEAR,1));this.app.renderer.render(n,I);for(var N=0;N<a.length;N++){a[N].destroy()}var V=new Date;return console.log("Texture '"+t.name+"' polygon "+t.index+" bake took "+(V-e)+"ms"),I}},{key:"addStageObject",value:function(t,e,r){var i=!0,n=!1,a=void 0;try{for(var o,s=r.shapes[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;0;var h=new f.Sprite(l.texture);h.x=t,h.y=e-r.max,h.scale.x=.5,h.scale.y=.5,this.app.stage.addChild(h);var u={fixture:this.physicsStage.createFixture({shape:d.Polygon(l.points.map(function(i){return i.add(t,e-r.max).scaleToPhysics().toVec2()})),friction:.9,restitution:.8}),sprite:h};this.objects.push(u)}}catch(c){n=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(n)throw a}}}}]),t}(),rt=function(){function t(){var e=this;Object(s.a)(this,t),f.settings.PRECISION_FRAGMENT=f.PRECISION.HIGH,d.internal.Settings.velocityThreshold=.1,this.app=new f.Application({width:window.innerWidth,height:window.innerHeight,transparent:!1}),this.app.renderer.autoResize=!0,this.resizeBus=[function(){return e.app.renderer.resize(window.innerWidth,window.innerHeight)}],window.onresize=function(){return e.resize()},this.world=new et(this)}return Object(l.a)(t,[{key:"injectPixiContext",value:function(t){var e=this;t&&t.children.length<=0&&(t.appendChild(this.app.view),f.loader.add("particle","assets/sprites/particle.png").load(function(){return e.initializeRender()}))}},{key:"initializeRender",value:function(){var t=this;this.world.init(),this.app.ticker.add(function(e){return t.tick(e)}),this.app.stage.filters=[new f.filters.FXAAFilter]}},{key:"tick",value:function(t){this.world.tick(t)}},{key:"resize",value:function(){var t=!0,e=!1,r=void 0;try{for(var i,n=this.resizeBus[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){(0,i.value)()}}catch(a){e=!0,r=a}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}}}]),t}(),it=function(t){function e(t){var r;return Object(s.a)(this,e),(r=Object(h.a)(this,Object(u.a)(e).call(this,t))).game=new rt,r}return Object(c.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("div",{ref:function(e){return t.game.injectPixiContext(e)}})}}]),e}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[134,2,1]]]);
//# sourceMappingURL=main.c7b018cc.chunk.js.map